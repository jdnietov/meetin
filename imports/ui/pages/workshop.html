<template name="workshop">
  <div class="ui main workshop container">
    <h1 class="ui header">{{workshop.name}}
      <div class="sub header">creado por <a href="/users/{{workshop.owner}}">{{getOwnerName workshop.owner}}</a></div>
    </h1>

    {{#if currentUser}}
      {{#if isUserAttending}}
        <button class="ui dark-blue join workshop labeled icon button">
          <i class="check icon"></i>
          Estás asistiendo
        </button>
      {{else}}
        <button class="ui light-aqua join workshop labeled icon button">
          <i class="right arrow icon"></i>
          Asistir
        </button>
      {{/if}}
    {{/if}}

    <div class="ui workshop info grid">
      <div class="eight wide column">
        <!-- Descripción, tags -->
        <div class="ui segment">
          {{#each workshop.tags}}
            <div class="ui label">{{this}}</div>
          {{/each}}
          {{#with workshop.desc}}
          <div class="ui divider"></div>
          <h5 class="ui header">¿Qué se hace en este taller?</h5>
            <p>{{this}}</p>
          {{/with}}
          {{#with workshop.items}}
          <div class="ui divider"></div>
          <h5 class="ui header">¿Qué hay que traer?</h5>
          <div class="ui list">
            {{#each this}}
            <div class="item">
              <i class="check icon"></i>
              <div class="content">
                {{this}}
              </div>
            </div>
            {{/each}}
          </div>
          {{/with}}
        </div>
      </div>
      <div class="eight wide column">
        <!-- Información -->
        <div class="ui segment">
          <h5 class="ui header">{{lengthOf workshop.participants}} personas asistirán</h5>
          {{#each participantsSliced workshop.participants}}
            <a href="/users/{{this}}">
              <img class="ui avatar image" src="https://semantic-ui.com/images/avatar/small/matt.jpg" alt="">
            </a>
          {{/each}}
          <h5 class="ui header">Información</h5>
          <div class="ui list">
            <div class="item">
              <i class="home icon"></i>
              <div class="content">
                {{workshop.addr}}
              </div>
            </div>
            <div class="item">
              <i class="dollar icon"></i>
              <div class="content">
                {{workshop.price}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
